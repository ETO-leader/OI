# H7.4.2.1

​    给地图边缘加上一圈石头

​    我们将石头 $u$ 拆点，拆为 $yIn_u$，$yOut_u$，从 $yIn_u$ 向 $T$ 连流量为 $+\infty$ 的边.

​    对于每个草地/空地，向下面的点连边，如果是石头连到 $yIn$，否则直接连.

​    对于每块空地，如果放了炸弹，则等价于让这块空地最左边石头到最右边石头，最上面石头到最下面石头不能放其他炸弹

​    于是我们按行处理，假设处理到第 $i$ 行，定义一个炸弹区间 $(l,r)$，使得 $(i,l)$ 和 $(i,r)$ 都是石头，且 $(i,l+1)$，$(i,l+2)$ ... $(i,r-1)$ 均不是石头

​    对炸弹区间 $(l,r)$ 建点 $u$，$S$ 到 $u$ 连流量为 $1$ 的边.

​    $u$ 向炸弹区间中的任意空地的列上面的石头的 $yOut$ 连边，流量为 $1$.

​    答案是这个图的最大流.

​    时间复杂度 $\Omicron(nm 级点边的最大流复杂度)$.